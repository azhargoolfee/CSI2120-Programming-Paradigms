<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head></head><body>





<h1> CSI 2120</h1>
<h2> Lab 1: Go</h2>

<p> This lab is based on the tutorial called <a rel="noopener" href="https://tour.golang.org/list">A tour of Go</a> on
golang.org. You are expected to work though the sections titled Basics and then solve the problems below. You can directly use the on-line go interpreter, called the sandbox, to try your programs.

<h3>Exercise 1: Go Basics: Functions</h3>

<p> Read the section on <a rel="noopener" href="https://tour.golang.org/basics/1"> Packages, variables, and functions</a>.</p>
<p> Write a function in Go that takes as input a float variable and returns two integer values. One integer value which is the floor of the float value and the second integer value which is the ceiling of the float value. Print the result to console.
</p>

  
<h3>Exercise 2: Go Basics: Looping</h3>

<p> Read the section on <a rel="noopener" href="https://tour.golang.org/flowcontrol/1"> Flow control statements: for, if, else, switch and defer</a>.</p>

<p>
A program should print a pattern as follows to the console:
</p>

<pre><code>
    x
   xx
  xxx
 xxxx
xxxxx
 xxxx
  xxx
   xx
    x
</code></pre>

Add two loops to the following program. The first loop should increase the &quot;x&quot; in lineSymb until the number of &quot;x&quot; is equal to <pre><code>lineWidth</code></pre>. The second loop should reduce the number of &quot;x&quot; 
until only one &quot;x&quot; is left.

<pre><code>
package main

import &quot;fmt&quot;

func main() {
	lineWidth := 5
	symb := &quot;x&quot;
	lineSymb := symb
	formatStr := fmt.Sprintf(&quot;%%%ds\n&quot;, lineWidth)
        fmt.Printf(formatStr, lineSymb)
}
</code></pre>



<h3>Exercise 3: Go Basics: Structs and Pointers</h3>

<p> Read the section on <a rel="noopener" href="https://tour.golang.org/moretypes/1"> More types: structs, slices, and maps.</a>.</p>


A Go program is to read a person (last and first name) from console (use an input array if using the sandbox) and assign an Id counting up. The program must use the structure Person.   

<pre><code>
type Person struct {
	lastName  string
	firstName string
	iD        int
}
</code></pre>

The main function looks as follows:

<pre><code>
func main() {
	nextId := 101
	for {
		var (
			p   Person
			err error
		)
		nextId, err = inPerson(&amp;p, nextId)
		if err != nil {
			fmt.Println(&quot;Invalid entry ... exiting&quot;)
			break
		}
		printPerson(p)
	}
}
</code></pre>

Supply the functions <code>inPerson</code> and <code>printPerson</code>.


<h3>Exercise 4: Maps</h3>

<p>
  Create a map that uses a string representing a course code as key. The value in the map needs to be a structure with basic information about the course. The following main routine:
<pre><code>
import &quot;fmt&quot;
    
// Define a suitable structure 

func main() {
	// Create a dynamic map m

	// Add the courses CSI2120 and CSI2110 to the map 

	
	for k, v := range m {
		fmt.Printf(&quot;Course Code: %s\n&quot;, k)
		fmt.Printf(&quot;Number of students: %d\n&quot;, v.NStudents)
		fmt.Printf(&quot;Professor: %s\n&quot;, v.Professor)
		fmt.Printf(&quot;Average: %f\n\n&quot;, v.Avg)
	}
}
</code></pre>
must print:
<pre><code>
Course Code: CSI2110
Number of students: 186
Professor: Lang
Average: 79.500000

Course Code: CSI2120
Number of students: 211
Professor: Moura
Average: 81.000000
</code></pre>


<h3>Exercise 5 and Quiz: </h3>

<em>Please hand-in the answer to this question as a single go file on Virtual Campus during your lab session but at the latest by Friday 6:00pm! Remember, your submission will only count if you have signed the lab attendance sheet.</em>
<br/><br/>



<p> Change the program below to use a single factored const definition for the labels of the switch statement. Use a map literal to hold all strings that are printed. Use the const as key. (All integer and string literals in the function printStatus shown in red must be replaced in your solution.)</p> 


<pre><code>
// status_print.go
package main

import (
	&amp;quotfmt&amp;quot
)

func statusPrint(state int8) {
	switch state {
	case 0:
		fmt.Printf(&amp;quotState is %s (%d)\n&amp;quot, &amp;quotIdle&amp;quot, 0)
	case 1:
		fmt.Printf(&amp;quotState is %s (%d)\n&amp;quot, &amp;quotStart&amp;quot, 1)
	case 2:
		fmt.Printf(&amp;quotState is %s (%d)\n&amp;quot, &amp;quotForward&amp;quot, 2)
	case 3:
		fmt.Printf(&amp;quotState is %s (%d)\n&amp;quot, &amp;quotFast&amp;quot, 3)
	case -1:
		fmt.Printf(&amp;quotState is %s (%d)\n&amp;quot, &amp;quotReverse&amp;quot, -1)
	default:
		fmt.Printf(&amp;quotInvalid state: %d\n&amp;quot, state)
	}
	return
}

func main() {
	var i int8
	for i = -1; i &lt; 5; i++ {
		statusPrint(i)
	}
}
</code></pre>



</p></p>
<script type="text/javascript" src="/d2l/common/math/MathML.js?v=20.19.12.19472-31 "></script><script type="text/javascript">document.addEventListener('DOMContentLoaded', function() { D2LMathML.DesktopInit('https://s.brightspace.com/lib/mathjax/2.6.1/MathJax.js?config=MML_HTMLorMML','https://s.brightspace.com/lib/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'); });</script></body></html>